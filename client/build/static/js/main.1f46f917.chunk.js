(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{144:function(e,t,n){},145:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),s=n(122),i=n.n(s),r=(n(144),n(24)),o=(n(145),n(134)),l=n(269),d=n(270),j=n(268),u=n(132),b=n(71),m=n(14),x=n(4),p=n(19),O=n.p+"static/media/plantrlogo.b408a565.svg",f=n.p+"static/media/navpattern.f0c799c9.svg";function h(e){e.fixed;var t=c.a.useState(!1),n=Object(p.a)(t,2),a=n[0],s=n[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("nav",{className:"relative flex flex-wrap items-center justify-between px-2 py-3 bg-nvbg shadow-lg mb-3",style:{backgroundImage:"url(".concat(f,")")},children:Object(x.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(x.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:[Object(x.jsx)("a",{className:"text-2xl font-bold leading-relaxed inline-block ml-0 mr-4 py-2 whitespace-nowrap uppercase text-secondary",href:"#pablo",children:Object(x.jsx)("img",{className:"img-responsive w-60  mt-2",src:O,alt:"logo"})}),Object(x.jsx)("button",{className:"fa-f text-black cursor-pointer mt-2 shadow-md text-xl leading-none px-4 w-10 h-10 py-1  bg-white border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return s(!a)},children:Object(x.jsx)("i",{className:"fas fa-bars"})})]}),Object(x.jsx)("div",{className:"lg:flex flex-grow items-center"+(a?" flex":" hidden"),id:"example-navbar-danger",children:Object(x.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsxs)("a",{className:"px-3 mt-2 py-2 flex items-center text-s  font-bold  font-poppins leading-snug text-black hover:opacity-75",href:"#pablo",children:[Object(x.jsx)("i",{className:" text-lg leading-lg text-dark opacity-75"}),Object(x.jsx)("span",{className:"ml-2",children:"Home"})]})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsxs)("a",{className:"px-3 py-2 mt-2 flex items-center text-s  font-bold  font-poppins leading-snug text-black hover:opacity-75",href:"#pablo",children:[Object(x.jsx)("i",{className:"fab fa-twitter text-lg leading-lg text-dark opacity-75"}),Object(x.jsx)("span",{className:"ml-2",children:"Learn More"})]})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsxs)("a",{className:"px-3 py-2 mt-2 flex items-center text-s  font-bold  font-poppins leading-snug text-black hover:opacity-75",href:"#pablo",children:[Object(x.jsx)("i",{className:"fab fa-pinterest text-lg leading-lg text-dark opacity-75"}),Object(x.jsx)("span",{className:"ml-2",children:"Profile"})]})})]})})]})})})}var g=function(e){var t=Object(a.useState)(e.edit?e.edit.value:""),n=Object(p.a)(t,2),c=n[0],s=n[1],i=Object(a.useRef)(null,e);Object(a.useEffect)((function(){i.current.focus()}));var r=function(e){s(e.target.value)};return Object(x.jsx)("form",{className:"todo-form",onSubmit:function(t){t.preventDefault(),e.onSubmit({id:Math.floor(1e4*Math.random()),text:c}),s("")},children:e.edit?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",{type:"text",placeholder:"Update your task",value:c,name:"text",className:"todo-input edit",onChange:r,ref:i}),Object(x.jsx)("button",{className:"todo-button edit",children:"Update"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",{type:"text",placeholder:"Add a todo",value:c,name:"text",className:"todo-input",onChange:r,ref:i}),Object(x.jsx)("button",{className:"todo-button",children:"Add todo"})]})})},v=n(17),k=n(123),N=n(124);var y=function(e){var t=e.todos,n=e.completeTodo,c=e.removeTodo,s=e.updateTodo,i=Object(a.useState)({id:null,value:""}),r=Object(p.a)(i,2),o=r[0],l=r[1];return o.id?Object(x.jsx)(g,{edit:o,onSubmit:function(e){s(o.id,e),l({id:null,value:""})}}):t.map((function(e,t){return Object(x.jsxs)("div",{className:e.isComplete?"todo-row complete":"todo-row",children:[Object(x.jsx)("div",{onClick:function(){return n(e.id)},children:e.text},e.id),Object(x.jsxs)("div",{classname:"icons",children:[Object(x.jsx)(k.a,{onClick:function(){return c(e.id)},className:"delete-icon"}),Object(x.jsx)(N.a,{onClick:function(){return l({id:e.id,value:e.text})},className:"edit-icon"})]})]},t)}))};var w=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)(g,{onSubmit:function(e){if(e.text&&!/^\s*$/.test(e.text)){var t=[e].concat(Object(v.a)(n));c(t)}}}),Object(x.jsx)(y,{todos:n,completeTodo:function(e){var t=n.map((function(t){return t.id===e&&(t.isComplete=!t.isComplete),t}));c(t)},removeTodo:function(e){var t=Object(v.a)(n).filter((function(t){return t.id!==e}));c(t)},updateTodo:function(e,t){t.text&&!/^\s*$/.test(t.text)&&c((function(n){return n.map((function(n){return n.id===e?t:n}))}))}})]})};var S,$,T,C,D,_=n(272),I=n(43),U=n(271),P=Object(U.a)(S||(S=Object(I.a)(["\n  query getUsers {\n    users {\n      _id\n      username\n      email\n    }\n  }\n"]))),E=(Object(U.a)($||($=Object(I.a)(["\n  query me {\n    me {\n      _id\n      username\n      email\n    }\n  }\n"]))),function(){var e=Object(_.a)(P).data,t=(null===e||void 0===e?void 0:e.users)||[];console.log("!!!!",t),console.log("????",JSON.stringify(t[0]));for(var n=[],a=0;a<t.length;a++)n.push(t[a].username+" ");return Object(x.jsx)("main",{children:Object(x.jsxs)("div",{className:"flex-row justify-center",children:["user page:",Object(x.jsx)("ol",{children:Object(x.jsx)("li",{children:n})})]})})}),M=n(91),q=n.n(M),A=n(127),F=n(15),J=n(274),Y=(Object(U.a)(T||(T=Object(I.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),Object(U.a)(C||(C=Object(I.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"])))),B=(Object(U.a)(D||(D=Object(I.a)(["\n    mutation addTask($taskName: String!, $taskPoint: Number!,\n    $taskDescription: String!, $taskDate: Date!){\n        addTask(taskName: $taskName, taskPoint: $taskPoint, taskDescription: $taskDescription, taskDate: $taskDate){\n            _id\n            taskName\n            taskPoint\n            taskDescription\n            taskDate\n        }\n    }"]))),n(6)),z=n(7),H=n(92),L=new(function(){function e(){Object(B.a)(this,e)}return Object(z.a)(e,[{key:"getProfile",value:function(){return Object(H.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(H.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),R=function(){var e=Object(a.useState)({username:"",email:"",password:""}),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(J.a)(Y),i=Object(p.a)(s,2),o=i[0],l=i[1],d=l.error,j=l.data,u=function(e){var t=e.target,a=t.name,s=t.value;c(Object(r.a)(Object(r.a)({},n),{},Object(F.a)({},a,s)))},m=function(){var e=Object(A.a)(q.a.mark((function e(t){var a,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n),e.prev=2,e.next=5,o({variables:Object(r.a)({},n)});case 5:a=e.sent,c=a.data,L.login(c.addUser.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(x.jsx)("div",{className:"col-12 col-lg-10",children:Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Sign Up"}),Object(x.jsxs)("div",{className:"card-body",children:[j?Object(x.jsxs)("p",{children:["Success! You may now head"," ",Object(x.jsx)(b.b,{to:"/",children:"back to the homepage."})]}):Object(x.jsxs)("form",{onSubmit:m,children:[Object(x.jsx)("input",{className:"form-input",placeholder:"Your username",name:"username",type:"text",value:n.name,onChange:u}),Object(x.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:n.email,onChange:u}),Object(x.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:n.password,onChange:u}),Object(x.jsx)("button",{className:"btn btn-block btn-primary",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),d&&Object(x.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:d.message})]})]})})})};function G(){return Object(x.jsx)("div",{className:"m-8 min-h-500 bg-primary",children:Object(x.jsx)("div",{children:Object(x.jsx)(w,{})})})}var K=function(){return Object(x.jsx)("main",{children:Object(x.jsxs)("div",{className:"grid grid-cols-4",children:[Object(x.jsx)(G,{}),Object(x.jsx)(G,{}),Object(x.jsx)(G,{})]})})};function Q(){return Object(x.jsx)("div",{className:"flex justify-center border-t-2 fixed bottom-0 w-full",children:Object(x.jsx)("div",{children:"This is a footer"})})}n(133);var V=n(96),W=(n(260),V.a),X=Object(o.a)({uri:"/graphql"}),Z=Object(u.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(r.a)(Object(r.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),ee=new l.a({link:Z.concat(X),cache:new d.a});var te=function(){return Object(x.jsx)(j.a,{client:ee,children:Object(x.jsx)(b.a,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)(m.a,{exact:!0,path:"/",children:[Object(x.jsx)(W,{value:35}),Object(x.jsx)(E,{})]}),Object(x.jsxs)(m.a,{exact:!0,path:"/signup",children:[Object(x.jsx)(h,{}),Object(x.jsx)(R,{})]}),Object(x.jsxs)(m.a,{exact:!0,path:"/productivity",children:[Object(x.jsx)(h,{}),Object(x.jsx)(K,{}),Object(x.jsx)(Q,{})]})]})})})};i.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(te,{})}),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.1f46f917.chunk.js.map